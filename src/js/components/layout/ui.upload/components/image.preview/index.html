<div class="m-image-preview">
    <div class="m-panel-wrapper">
        <div class="m-panel-close" on-click={this.onClose()}></div>
        <div class="m-full-panel">
            <span class="u-pre-btn" on-click={this.onPrev()}><i class="u-icon"></i></span>
            <ul class="m-image-list">
                {#list imgList as img}
                    <li class="m-image-item" ref="full-{img_index}" r-class={{current: img_index === curIndex}} r-style={{opacity: img_index === curIndex ? 1 : 0}}>
                        <img ref="full-img-{img_index}" src={img.src} alt={img.name}/>
                    </li>
                {/list}
            </ul>
            <span class="u-next-btn" on-click={this.onNext()}><i class="u-icon"></i></span>
            <ul class="m-btn-group">
                {#list opList as op}
                    <li class="m-btn-item">
                        {#if imgList[curIndex].status === 'uploaded' && op.name === 'delete'}
                            <a class="u-download" href={imgList[curIndex].src} download={imgList[curIndex].name}><i class="u-icon u-icon-import"></i></a>
                        {#else}
                            <i class="u-icon u-icon-{op.icon}" on-click={this[op.fnName].bind(this)(curIndex)}></i>
                        {/if}
                    </li>
                {/list}
            </ul>
        </div>
        <div class="m-thumbnail-panel">
            <div class="u-image-name">{imgList[curIndex].name}</div>
            <ul class="m-image-list">
                {#list imgList as img}
                    <li class="m-image-item" r-class={{current: img_index === curIndex}} on-click={this.setCurrentTo(img_index)}>
                        <img src={img.src} alt={img.name}/>
                    </li>
                {/list}
            </ul>
        </div>
        <ul class="u-virtual-zone">
            <li class="m-image-item">
                <img src={img.src} alt={img.name}/>
            </li>
        </ul>
    </div>
</div>